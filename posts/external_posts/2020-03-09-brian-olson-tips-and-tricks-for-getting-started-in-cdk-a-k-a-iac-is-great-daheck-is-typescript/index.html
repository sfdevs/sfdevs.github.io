<!doctype html><html class=no-js lang=en><meta charset=utf-8><meta http-equiv=x-ua-compatible content="ie=edge"><title>SFDevs | Tips and tricks for getting started in CDK (a.k.a. IaC is great! Daheck is typescript?)</title><meta name=description content="I’ve been doing IaC in AWS for years now, primarily through Cloudformation and scripting languages like powershell and python. IaC is great, but these tools have some short comings like yaml being very verbose, and the powershell AWS SDKs not handling idem potency for you.
Because of those short comings, I was very excited when AWS released AWS CDK a little over a year ago now. It cuts down on a lot of copying and pasting yaml files like you do in cloudformation, and gives you easier access to higher level language constructs like loops and if statements."><link rel="shortcut icon" href=favicon.ico type=image/x-icon><link rel=icon href=favicon.ico type=image/x-icon><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=generator content="Hugo 0.71.1"><link rel=dns-prefetch href=https://use.fontawesome.com/><link rel=dns-prefetch href=https://fonts.gstatic.com><link rel=preload href=https://fonts.gstatic.com/s/sourcesanspro/v12/6xK3dSBYKcSV-LCoeQqfX1RYOo3qOK7lujVj9w.woff2 as=font type=font/woff2 crossorigin><script defer src=https://use.fontawesome.com/releases/v5.8.1/js/solid.js integrity=sha384-IA6YnujJIO+z1m4NKyAGvZ9Wmxrd4Px8WFqhFcgRmwLaJaiwijYgApVpo1MV8p77 crossorigin=anonymous></script><script defer src=https://use.fontawesome.com/releases/v5.8.1/js/brands.js integrity=sha384-rUOIFHM3HXni/WG5pzDhA1e2Js5nn4bWudTYujHbbI9ztBIxK54CL4ZNZWwcBQeD crossorigin=anonymous></script><script defer src=https://use.fontawesome.com/releases/v5.8.1/js/fontawesome.js integrity=sha384-EMmnH+Njn8umuoSMZ3Ae3bC9hDknHKOWL2e9WJD/cN6XLeAN7tr5ZQ0Hx5HDHtkS crossorigin=anonymous></script><link rel=stylesheet href=/styles/main.1e280c87bd9e983acb3a608852a39ec784fd3238fedff2bbe4f34aee0bf73a4b.css integrity="sha256-HigMh72emDrLOmCIUqOex4T9Mjj+3/K75PNK7gv3Oks="><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest><link rel=mask-icon href=/safari-pinned-tab.svg color=#6cc091><meta name=msapplication-TileColor content="#da532c"><meta name=theme-color content="#6cc091"><link rel=canonical href="https://rollingwebsphere.home.blog/2020/03/09/tips-and-tricks-for-getting-started-in-cdk-a-k-a-iac-is-great-daheck-is-typescript/?utm_source=sfdevs.com"><meta property="og:title" content="Tips and tricks for getting started in CDK (a.k.a. IaC is great! Daheck is typescript?)"><meta property="og:description" content="I’ve been doing IaC in AWS for years now, primarily through Cloudformation and scripting languages like powershell and python. IaC is great, but these tools have some short comings like yaml being very verbose, and the powershell AWS SDKs not handling idem potency for you.
Because of those short comings, I was very excited when AWS released AWS CDK a little over a year ago now. It cuts down on a lot of copying and pasting yaml files like you do in cloudformation, and gives you easier access to higher level language constructs like loops and if statements."><meta property="og:type" content="article"><meta property="og:url" content="https://sfdevs.com/posts/external_posts/2020-03-09-brian-olson-tips-and-tricks-for-getting-started-in-cdk-a-k-a-iac-is-great-daheck-is-typescript/"><meta property="article:published_time" content="2020-03-09T16:27:00+00:00"><meta property="article:modified_time" content="2020-03-09T16:27:00+00:00"><meta itemprop=name content="Tips and tricks for getting started in CDK (a.k.a. IaC is great! Daheck is typescript?)"><meta itemprop=description content="I’ve been doing IaC in AWS for years now, primarily through Cloudformation and scripting languages like powershell and python. IaC is great, but these tools have some short comings like yaml being very verbose, and the powershell AWS SDKs not handling idem potency for you.
Because of those short comings, I was very excited when AWS released AWS CDK a little over a year ago now. It cuts down on a lot of copying and pasting yaml files like you do in cloudformation, and gives you easier access to higher level language constructs like loops and if statements."><meta itemprop=datePublished content="2020-03-09T16:27:00+00:00"><meta itemprop=dateModified content="2020-03-09T16:27:00+00:00"><meta itemprop=wordCount content="826"><meta itemprop=keywords content><meta name=twitter:card content="summary"><meta name=twitter:title content="Tips and tricks for getting started in CDK (a.k.a. IaC is great! Daheck is typescript?)"><meta name=twitter:description content="I’ve been doing IaC in AWS for years now, primarily through Cloudformation and scripting languages like powershell and python. IaC is great, but these tools have some short comings like yaml being very verbose, and the powershell AWS SDKs not handling idem potency for you.
Because of those short comings, I was very excited when AWS released AWS CDK a little over a year ago now. It cuts down on a lot of copying and pasting yaml files like you do in cloudformation, and gives you easier access to higher level language constructs like loops and if statements."><meta name=twitter:site content="@_sfdevs"><body class=subpage><a href=#mainContent class="sr-only sr-only-focusable skip-to">Skip to main content</a><div class="navbar navbar-expand-lg sticky-top navbar-dark bg-primary"><div class=container><a href=https://sfdevs.com/ class=navbar-brand>SFDevs</a>
<button class=navbar-toggler type=button data-toggle=collapse data-target=#navbarText aria-controls=navbarText aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse" id=navbarText><ul class="navbar-nav ml-auto"><li class=nav-item><a class=nav-link href=/about/>About</a></li><li class=nav-item><a class=nav-link href=/posts/>Community Posts</a></li><li class=nav-item><a class=nav-link href=/events/>Events</a></li><li class=nav-item><a class=nav-link href=/jobs/>Jobs</a></li></ul></div></div></div><main id=mainContent class="mb-5 mt-5 page-main"><div class=container><header class="text-center mb-5"><h1>Tips and tricks for getting started in CDK (a.k.a. IaC is great! Daheck is typescript?)</h1></header><article><p>I’ve been doing IaC in AWS for years now, primarily through Cloudformation and scripting languages like powershell and python. IaC is great, but these tools have some short comings like yaml being very verbose, and the powershell AWS SDKs not handling idem potency for you.</p><p>Because of those short comings, I was very excited when AWS released <a href=https://github.com/aws/aws-cdk>AWS CDK</a> a little over a year ago now. It cuts down on a lot of copying and pasting yaml files like you do in cloudformation, and gives you easier access to higher level language constructs like loops and if statements. It also comes with options for strong typing, which lets you get compile time errors instead of deploy time errors (anyone watched a complex cloudformation stack deploy for 30 minutes, only to have a syntax error on the last resource and watch it all role back?)</p><p>From a very high level <a href=https://en.wikipedia.org/wiki/TypeScript>typescript</a> is a superset of javascript, and adds some nice features like strong typing. CDK is a framework and CLI for managing AWS resources.</p><p>All of that sounds great, but it can be intimidating to start using a new framework and a new language at the same time. I was new to typescript when I started using CDK, so I figured I’d share some of the tips and tricks I learned along the way. I know CDK supports other languages, but we found that most of the examples are in typescript, so we wanted to stay as mainstream as possible.</p><h3 id=do-some-reading-before-younbspstartnbsp>Do some reading before you start </h3><p>AWS is strongly motivated to make it easy for you to get started in CDK. From their perspective the easier it is for you to create resources, the easier it is for you to spend money with them. So before you start hacking away take a few minutes to read some helpful resources like</p><ul><li>General CDK best practices: <a href=https://github.com/kevinslin/open-cdk>https://github.com/kevinslin/open-cdk</a>- Background on design of CDK: <a href=https://cdkworkshop.com/>https://cdkworkshop.com/</a>- Deep dive into AWS CDK: <a href="https://www.youtube.com/watch?v=9As_ZIjUGmY">https://www.youtube.com/watch?v=9As_ZIjUGmY</a>
A few minutes of background research can help you frame up how your project should look, and save you a lot of time once you’re started.</li></ul><h3 id=start-with-and-modify-an-examplenbspproject>Start with and modify an example project</h3><p>If you’re new to typescript and CDK start by getting a small example project up and running. There are a ton of good examples in this github repo<a href=https://github.com/aws-samples/aws-cdk-examples/tree/master/typescript><strong>aws-samples/aws-cdk-examples</strong>**You can’t perform that action at this time. You signed in with another tab or window. You signed out in another tab or…**github.com</a></p><p>If you pick one of the serverless examples you can usually stay in the free tier to avoid paying for your learning.</p><p>If you’re really trying to avoid spending money use</p><p>while you’re experimenting to make sure you can produce a valid cloudformation template without actually creating any resources. This is a good way to test changes and get fast feedback</p><h3 id=get-familiar-with-a-few-key-npmnbspfeatures>Get familiar with a few key npm features</h3><p>I’m not (and don’t really want to be) a nodejs developer, but if you’re working in typescript it will help to know some basic NPM commands like</p><ul><li>Use <code>npm install -g aws-cdk</code> to install and update CLI tools like cdk globally. This is very different from…- Using <code>npm install @aws-cdk/aws-ec2</code> to install packages locally in your project and your <code>package.json</code> file- Use a <code>^</code> before your version number to let npm upgrade packages when you run <code>npm install</code> in your project, take the <code>^</code> to pin a version. e.g. <code>"@aws-cdk/aws-ec2": "^1.20.0"</code> vs <code>"@aws-cdk/aws-ec2": "1.20.0"</code> - Use <code>npm run build</code> to get errors that might not show up in the output of <code>cdk deploy</code> , but use <code>tsc --build --clean</code> afterwards to remove compiled .js fles — otherwise <code>cdk deploy</code> may not pick up your changes- If you need to downgrade your CDK package version for any reason you can pin the version and then run an <code>npm install</code> to get to an older version</li></ul><h3 id=take-advantage-of-itellisense-in-vs-code-or-your-editor-ofnbspchoice>Take advantage of itellisense in VS Code (or your editor of choice)</h3><p>One of the main advantages of CDK is it’s ability to predict what your typing based on strong types. If you declare types for your objects like</p><p>your editor will be able to offer you methods and their parameters as you’re working</p><h3 id=get-ready-to-be-active-in-the-cdk-open-source-community>Get ready to be active in the CDK open source community</h3><p>You’re using a pretty new open source project, and your best bet for help when you run into issues (in my experience) is to open an issue in the github project.</p><p>Keep in mind you’re not opening a support ticket with a vendor, so you need to bring all of the information you can to help some else help you solve your problem (e.g. the versions of CDK and packages you’re using, what you expected to happen, the errors you got, etc).</p><p>As long as you open an issue with a reasonable amount of information the community is very willing to help.</p><h3 id=conclusion>Conclusion</h3><p>Those are the tips I wish I’d known when I started using CDK. Best of luck!</p></article></div></main><footer id=footer class="site-footer bg-primary"><div class=container><div class=text-white><div class=text-center><h2 class="h3 font-weight-normal mb-3">Get in touch</h2></div><div class=cognito><script src=https://www.cognitoforms.com/s/kLQF89okA06rKO0JYMWNOg></script><script>document.addEventListener('DOMContentLoaded',function(){Cognito.load("forms",{id:"1"});});</script></div></div><div class="float-md-left text-white align-middle">&copy; 2020 Sioux Falls Developer's Group.</div><div class="card bg-transparent border-white text-white float-md-right"><div class=card-body><span class="follow__social__copy mr-2 d-inline-block align-text-bottom" style=line-height:2>Follow SFDevs</span>
<a href=https://www.facebook.com/sfdevs title="Follow us on Facebook" class="text-white mr-2" target=_blank rel=noopener><i class="fab fa-facebook fa-2x"></i></a><a href=https://twitter.com/_sfdevs title="Follow us on Twitter" class=text-white target=_blank rel=noopener><i class="fab fa-twitter fa-2x"></i></a></div></div></div></footer><script src=/js/modernizr.js></script><script src=https://code.jquery.com/jquery-3.4.1.slim.min.js integrity=sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n crossorigin=anonymous></script><script src=/js/bootstrap.bundle.min.js></script><script src=/js/main.min.js></script><script src=https://www.cognitoforms.com/s/kLQF89okA06rKO0JYMWNOg></script><script data-goatcounter=https://sfdevs.goatcounter.com/count async src=//gc.zgo.at/count.js></script></body></html>