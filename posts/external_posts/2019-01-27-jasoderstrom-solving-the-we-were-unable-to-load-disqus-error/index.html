<!doctype html><html lang=en><meta charset=utf-8><meta http-equiv=x-ua-compatible content="ie=edge"><title>SFDevs | Solving the "We were unable to load Disqus" Error</title><meta name=description content="TLDR: Make sure you&rsquo;re setting the category_id field in the Disqus load script to a valid value, or just don&rsquo;t use it at all.
Problem While migrating my blog over to GatsbyJS from Ghost, I ran into this peculiar error when trying to load Disqus.
  We were unable to load Disqus. If you are a moderator please see our troubleshooting guide
This particular error was quite annoying because it gave no information on what actually went wrong."><link rel="shortcut icon" href=favicon.ico type=image/x-icon><link rel=icon href=favicon.ico type=image/x-icon><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo 0.65.3"><link rel=dns-prefetch href=https://use.fontawesome.com/><link rel=dns-prefetch href=https://fonts.googleapis.com/><script defer src=https://use.fontawesome.com/releases/v5.8.1/js/solid.js integrity=sha384-IA6YnujJIO+z1m4NKyAGvZ9Wmxrd4Px8WFqhFcgRmwLaJaiwijYgApVpo1MV8p77 crossorigin=anonymous></script><script defer src=https://use.fontawesome.com/releases/v5.8.1/js/brands.js integrity=sha384-rUOIFHM3HXni/WG5pzDhA1e2Js5nn4bWudTYujHbbI9ztBIxK54CL4ZNZWwcBQeD crossorigin=anonymous></script><script defer src=https://use.fontawesome.com/releases/v5.8.1/js/fontawesome.js integrity=sha384-EMmnH+Njn8umuoSMZ3Ae3bC9hDknHKOWL2e9WJD/cN6XLeAN7tr5ZQ0Hx5HDHtkS crossorigin=anonymous></script><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Montserrat:500,900|Knewave"><link rel=stylesheet href=/styles/main.e9b8140145aa022e4f53b83556b150566e4c0b4381f37e028bb3cd3e02c91409.css integrity="sha256-6bgUAUWqAi5PU7g1VrFQVm5MC0OB834Ci7PNPgLJFAk="><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest><link rel=mask-icon href=/safari-pinned-tab.svg color=#6cc091><meta name=msapplication-TileColor content="#da532c"><meta name=theme-color content="#6cc091"><link rel=canonical href=https://justinsoderstrom.com/disqus-load-failed-solution><meta property="og:title" content="Solving the &#34;We were unable to load Disqus&#34; Error"><meta property="og:description" content="TLDR: Make sure you&rsquo;re setting the category_id field in the Disqus load script to a valid value, or just don&rsquo;t use it at all.
Problem While migrating my blog over to GatsbyJS from Ghost, I ran into this peculiar error when trying to load Disqus.
  We were unable to load Disqus. If you are a moderator please see our troubleshooting guide
This particular error was quite annoying because it gave no information on what actually went wrong."><meta property="og:type" content="article"><meta property="og:url" content="https://sfdevs.com/posts/external_posts/2019-01-27-jasoderstrom-solving-the-we-were-unable-to-load-disqus-error/"><meta property="article:published_time" content="2019-01-27T00:00:00+00:00"><meta property="article:modified_time" content="2019-01-27T00:00:00+00:00"><meta property="fb:app_id" content="1171673062996168"><meta itemprop=name content="Solving the &#34;We were unable to load Disqus&#34; Error"><meta itemprop=description content="TLDR: Make sure you&rsquo;re setting the category_id field in the Disqus load script to a valid value, or just don&rsquo;t use it at all.
Problem While migrating my blog over to GatsbyJS from Ghost, I ran into this peculiar error when trying to load Disqus.
  We were unable to load Disqus. If you are a moderator please see our troubleshooting guide
This particular error was quite annoying because it gave no information on what actually went wrong."><meta itemprop=datePublished content="2019-01-27T00:00:00+00:00"><meta itemprop=dateModified content="2019-01-27T00:00:00+00:00"><meta itemprop=wordCount content="828"><meta itemprop=keywords content><meta name=twitter:card content="summary"><meta name=twitter:title content="Solving the &#34;We were unable to load Disqus&#34; Error"><meta name=twitter:description content="TLDR: Make sure you&rsquo;re setting the category_id field in the Disqus load script to a valid value, or just don&rsquo;t use it at all.
Problem While migrating my blog over to GatsbyJS from Ghost, I ran into this peculiar error when trying to load Disqus.
  We were unable to load Disqus. If you are a moderator please see our troubleshooting guide
This particular error was quite annoying because it gave no information on what actually went wrong."><meta name=twitter:site content="@_sfdevs"><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-89597259-1','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script>window.fbAsyncInit=function(){FB.init({appId:'1171673062996168',cookie:true,xfbml:true,version:'v3.2'});FB.AppEvents.logPageView();};(function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(d.getElementById(id)){return;}
js=d.createElement(s);js.id=id;js.src="https://connect.facebook.net/en_US/sdk.js";fjs.parentNode.insertBefore(js,fjs);}(document,'script','facebook-jssdk'));</script><body class=subpage><header id=header><div class=inner><a href=https://sfdevs.com/ class=logo>SFDevs</a><nav id=nav role=menu><a href=/about/><span>About</span></a>
<a href=/posts/><span>Community Posts</span></a>
<a href=/events/><span>Events</span></a>
<a href=/jobs/><span>Jobs</span></a></nav><a href=#navPanel class=navPanelToggle><span class="fa fa-bars"></span></a></div></header><section class=wrapper><div class=inner><header class=align-center><h1>Solving the "We were unable to load Disqus" Error</h1></header><p><strong>TLDR: Make sure you&rsquo;re setting the <code>category_id</code> field in the Disqus load script to a valid value, or just don&rsquo;t use it at all.</strong></p><h2 id=svg-aria-hiddentrue-height16-version11-viewbox0-0-16-16-width16path-fill-ruleevenodd-dm4-9h1v1h4c-15-0-3-169-3-35s255-3-4-3h4c145-0-3-169-3-35-0-141-91-272-2-325v859c58-45-1-127-1-209c10-522-898-4-8-4h4c-98-0-2-122-2-25s3-9-4-9zm9-3h-1v1h1c1-0-2-122-2-25s1398-12-13-12h9c-98-0-2-122-2-25-0-8342-164-1-209v625c-10953-2-184-2-325c6-1131-755-13-9-13h4c145-0-3-169-3-35s145-6-13-6zpathsvgproblemproblem><a href=#problem></a>Problem</h2><p>While migrating my blog over to GatsbyJS from Ghost, I ran into this peculiar error when trying to load <a href=https://disqus.com/>Disqus</a>.</p><blockquote></blockquote><p>We were unable to load Disqus. If you are a moderator please see our <a href=https://help.disqus.com/troubleshooting/im-receiving-the-message-we-were-unable-to-load-disqus>troubleshooting guide</a></p><p>This particular error was quite annoying because it gave no information on what actually went wrong. And I couldn&rsquo;t ask Disqus directly for help or what happened; that&rsquo;s only for paid users. As a <del>dirty freeloader</del> free user, all I get is a troubleshooting guide and Google :smiley:.</p><p>In the troubleshooting guide, there are 9 listed reasons as to why Disqus failed. Unfortunately for me, neither the guide nor Google was much help with my issue. It seemed no one had run into (or at least wrote about) what was causing my particular issue before. So, I was on my own here.</p><h2 id=svg-aria-hiddentrue-height16-version11-viewbox0-0-16-16-width16path-fill-ruleevenodd-dm4-9h1v1h4c-15-0-3-169-3-35s255-3-4-3h4c145-0-3-169-3-35-0-141-91-272-2-325v859c58-45-1-127-1-209c10-522-898-4-8-4h4c-98-0-2-122-2-25s3-9-4-9zm9-3h-1v1h1c1-0-2-122-2-25s1398-12-13-12h9c-98-0-2-122-2-25-0-8342-164-1-209v625c-10953-2-184-2-325c6-1131-755-13-9-13h4c145-0-3-169-3-35s145-6-13-6zpathsvgsolutionsolution><a href=#solution></a>Solution</h2><p>After scouring the <a href=https://help.disqus.com/developer>Disqus developer documentation</a>, I came across an article about the <a href=https://help.disqus.com/developer/javascript-configuration-variables>javascript configuration variables</a> for the Disqus load script. What particularly caught my eye was the <code>category_id</code> field. According to the Disqus documentation, the <code>category_id</code> field:</p><blockquote></blockquote><p>Tells the Disqus service the category to be used for the current page. This is used when creating the thread on Disqus for the first time.</p><p>More interestingly, the docs go on to say the following about the field:</p><blockquote></blockquote><p><strong>If you try using a category ID that hasn&rsquo;t been created within your forum settings, you&rsquo;ll receive a 400 Bad Request error.</strong></p><p>Now here is a possible reason to why Disqus can&rsquo;t load!</p><p>When making this blog, I used the <a href=https://github.com/Vagr9K/gatsby-material-starter>gatsby-material-starter</a>, which uses the <a href=https://www.npmjs.com/package/react-disqus-comments>react-disqus-comments</a> npm package to load Disqus. Sure enough, the starter was setting the <code>category_id</code> to <code>post.category_id</code>!</p><pre><code> &amp;lt;CardText expandable={!expanded}&gt;
          &amp;lt;ReactDisqusComments
            shortname={config.disqusShortname}
            identifier={post.title}
            title={post.title}
            url={url}
            category_id={post.category_id}
            onNewComment={this.notifyAboutComment}
          /&gt;
 &amp;lt;/CardText&gt;
</code></pre><p>I figured that the <code>post.category_id</code> was an invalid value since I hadn&rsquo;t set what were the valid values on the Disqus end. Once I commented out the <code>category_id</code> field, Disqus was able to load! So in my case, <code>category_id</code> was the culprit to my problem.</p><p><strong>So long story short, if you don&rsquo;t need to use Disqus categories, remove the <code>category_id</code> field from your load script. Disqus will just default the value to the id for the &ldquo;General&rdquo; category which exists for all forums.</strong></p><p>One thing to note is that this issue only occurs for <strong>new</strong> pages. Once Disqus is able to load on the page, you can set <code>category_id</code> to whatever you want, regardless if its a valid value or not. Disqus ignores the value after its created the thread for the page for the first time.</p><h2 id=svg-aria-hiddentrue-height16-version11-viewbox0-0-16-16-width16path-fill-ruleevenodd-dm4-9h1v1h4c-15-0-3-169-3-35s255-3-4-3h4c145-0-3-169-3-35-0-141-91-272-2-325v859c58-45-1-127-1-209c10-522-898-4-8-4h4c-98-0-2-122-2-25s3-9-4-9zm9-3h-1v1h1c1-0-2-122-2-25s1398-12-13-12h9c-98-0-2-122-2-25-0-8342-164-1-209v625c-10953-2-184-2-325c6-1131-755-13-9-13h4c145-0-3-169-3-35s145-6-13-6zpathsvgusing-the-category_id-fieldusing-the-category_id-field><a href=#using-the-category_id-field></a>Using the category_id field</h2><p>If you actually <strong>want</strong> to use the <code>category_id</code> field, then its not going to be as simple as going to the Disqus dashboard and setting the valid values there. According to the Disqus documentation:</p><blockquote></blockquote><p>Categories are primarily used with our API for results filtering; categories are not used for moderation (e.g., to filter comments by category in the moderation panel). <strong>New categories can be created with our <a href=https://disqus.com/api/docs/categories/>categories API endpoints</a></strong>.</p><p>So if you <strong>really</strong> want to use this feature, you&rsquo;re going to have to manually interrogate their API (don&rsquo;t ask me why this isn&rsquo;t just available through the dashboard).</p><p>If you want to see all of your current categories, you can do a GET request to the <a href=https://disqus.com/api/docs/categories/list/>categories/list</a> endpoint. You&rsquo;ll need to provide your Disqus shortname as well as your public API key. You can get an API key by <a href=https://disqus.com/api/console/>registering an application</a> with Disqus.</p><p>If you haven&rsquo;t done anything with Disqus categories before, then you&rsquo;ll get a response back that looks something like this:</p><pre><code> {
  &quot;cursor&quot;:{
    &quot;prev&quot;:null,
    &quot;hasNext&quot;:false,
    &quot;next&quot;:&quot;1:25:0&quot;,
    &quot;hasPrev&quot;:false,
    &quot;total&quot;:null,
    &quot;id&quot;:&quot;1:25:0&quot;,
    &quot;more&quot;:false
  },
  &quot;code&quot;:0,
  &quot;response&quot;:[
    {
      &quot;id&quot;:&quot;1&quot;,
      &quot;forum&quot;:&quot;bobross&quot;,
      &quot;order&quot;:0,
      &quot;isDefault&quot;:true,
      &quot;title&quot;:&quot;General&quot;
    }
  ]
}
</code></pre><p>In general, the default Disqus forum comes with just the &ldquo;General&rdquo; category. The <code>id</code> field seems to be unique to each forum, so you&rsquo;ll have to find out through the API what your unique id is.</p><p>If you want to add new categories, then you can use the <a href=https://disqus.com/api/docs/categories/create/>categories/create</a> endpoint. Refer to the <a href=https://disqus.com/api/docs/>Disqus API documentation</a> for more information.</p><h2 id=svg-aria-hiddentrue-height16-version11-viewbox0-0-16-16-width16path-fill-ruleevenodd-dm4-9h1v1h4c-15-0-3-169-3-35s255-3-4-3h4c145-0-3-169-3-35-0-141-91-272-2-325v859c58-45-1-127-1-209c10-522-898-4-8-4h4c-98-0-2-122-2-25s3-9-4-9zm9-3h-1v1h1c1-0-2-122-2-25s1398-12-13-12h9c-98-0-2-122-2-25-0-8342-164-1-209v625c-10953-2-184-2-325c6-1131-755-13-9-13h4c145-0-3-169-3-35s145-6-13-6zpathsvgsummarysummary><a href=#summary></a>Summary</h2><p>If you use <code>category_id</code> in your Disqus load script, then make sure that you&rsquo;re using a valid value! Otherwise Disqus will not load (or tell you that this was the reason).</p><p>If you don&rsquo;t care to use the categories feature, then just don&rsquo;t give <code>category_id</code> a value. Disqus will default <code>category_id</code> to the id of the &ldquo;General&rdquo; category which exists for all forums.</p><p>If you <strong>do</strong> want to use <code>category_id</code>, then you&rsquo;ll have to use the <a href=https://disqus.com/api/docs/>Disqus API</a> to find out what your category ids are and to create new categories.</p><p>Hopefully this article provides you with a solution to your Disqus issue or at least rules out <code>category_id</code> as the problem. :smile:</p><p><strong>If you found this article to helpful, please leave a comment below! Feedback is always appreciated.</strong></p></div></section><footer id=footer><div class=inner><h3>Get in touch</h3><iframe src="https://services.cognitoforms.com/f/kLQF89okA06rKO0JYMWNOg?id=1" style=position:relative;width:1px;min-width:100%;*width:100% frameborder=0 scrolling=yes seamless height=465 width=100%></iframe>
<script src=https://services.cognitoforms.com/scripts/embed.js></script><div class="row footer__copy-social"><div class="copyright 6u 12u$(small)">&copy; 2020 Sioux Falls Developer's Group.</div><div class="6u 12u$(small) social"><div class=footer__social><span class=follow__social__copy>Follow SFDevs</span>
<a href=https://www.facebook.com/sfdevs title="Follow us on Facebook" class=like-us target=_blank rel=noopener><i class="fab fa-facebook fa-2x"></i></a><a href=https://twitter.com/_sfdevs title="Follow us on Twitter" class=like-us target=_blank rel=noopener><i class="fab fa-twitter fa-2x"></i></a></div></div></div></div></footer><script src=https://code.jquery.com/jquery-3.3.1.slim.min.js integrity="sha256-3edrmyuQ0w65f8gfBsqowzjJe2iM6n0nKciPUp8y+7E=" crossorigin=anonymous></script><script src=/js/skel.min.js></script><script src=/js/main.min.js></script></body></html>