<!doctype html><html lang=en><meta charset=utf-8><meta http-equiv=x-ua-compatible content="ie=edge"><title>SFDevs | Chef Server and the risks of depending on the open source community</title><meta name=description content="As a DevOps engineer I’ve played around with a number of different automation tools. Some professionally, some for a blog post, and some just because I was curious about them. When most companies are evaluating automation tools they look at some common attributes
 How much will it cost?1. Does it support the platforms we’re on?1. Is it a good fit for my teams skills?1. How long will it take to setup and see some value add?"><link rel="shortcut icon" href=favicon.ico type=image/x-icon><link rel=icon href=favicon.ico type=image/x-icon><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo 0.62.2"><script defer src=https://use.fontawesome.com/releases/v5.8.1/js/solid.js integrity=sha384-IA6YnujJIO+z1m4NKyAGvZ9Wmxrd4Px8WFqhFcgRmwLaJaiwijYgApVpo1MV8p77 crossorigin=anonymous></script><script defer src=https://use.fontawesome.com/releases/v5.8.1/js/brands.js integrity=sha384-rUOIFHM3HXni/WG5pzDhA1e2Js5nn4bWudTYujHbbI9ztBIxK54CL4ZNZWwcBQeD crossorigin=anonymous></script><script defer src=https://use.fontawesome.com/releases/v5.8.1/js/fontawesome.js integrity=sha384-EMmnH+Njn8umuoSMZ3Ae3bC9hDknHKOWL2e9WJD/cN6XLeAN7tr5ZQ0Hx5HDHtkS crossorigin=anonymous></script><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Montserrat:500,900|Knewave"><link rel=stylesheet href=/styles/main.eb9f00a194b437f34b7432adf19800e00495fc8df66765d2a553eeaa86d38fa6.css integrity="sha256-658AoZS0N/NLdDKt8ZgA4ASV/I32Z2XSpVPuqobTj6Y="><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest><link rel=mask-icon href=/safari-pinned-tab.svg color=#6cc091><meta name=msapplication-TileColor content="#da532c"><meta name=theme-color content="#6cc091"><link rel=canonical href=https://rollingwebsphere.home.blog/2019/10/10/chef-server-and-the-risks-of-depending-on-the-open-source-community/><meta property="og:title" content="Chef Server and the risks of depending on the open source community"><meta property="og:description" content="As a DevOps engineer I’ve played around with a number of different automation tools. Some professionally, some for a blog post, and some just because I was curious about them. When most companies are evaluating automation tools they look at some common attributes
 How much will it cost?1. Does it support the platforms we’re on?1. Is it a good fit for my teams skills?1. How long will it take to setup and see some value add?"><meta property="og:type" content="article"><meta property="og:url" content="https://sfdevs.com/posts/external_posts/2019-10-10-brian-olson-chef-server-and-the-risks-of-depending-on-the-open-source-community/"><meta property="article:published_time" content="2019-10-10T03:34:00+00:00"><meta property="article:modified_time" content="2019-10-10T03:34:00+00:00"><meta property="fb:app_id" content="1171673062996168"><meta itemprop=name content="Chef Server and the risks of depending on the open source community"><meta itemprop=description content="As a DevOps engineer I’ve played around with a number of different automation tools. Some professionally, some for a blog post, and some just because I was curious about them. When most companies are evaluating automation tools they look at some common attributes
 How much will it cost?1. Does it support the platforms we’re on?1. Is it a good fit for my teams skills?1. How long will it take to setup and see some value add?"><meta itemprop=datePublished content="2019-10-10T03:34:00+00:00"><meta itemprop=dateModified content="2019-10-10T03:34:00+00:00"><meta itemprop=wordCount content="832"><meta itemprop=keywords content><meta name=twitter:card content="summary"><meta name=twitter:title content="Chef Server and the risks of depending on the open source community"><meta name=twitter:description content="As a DevOps engineer I’ve played around with a number of different automation tools. Some professionally, some for a blog post, and some just because I was curious about them. When most companies are evaluating automation tools they look at some common attributes
 How much will it cost?1. Does it support the platforms we’re on?1. Is it a good fit for my teams skills?1. How long will it take to setup and see some value add?"><meta name=twitter:site content="@_sfdevs"><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-89597259-1','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script>window.fbAsyncInit=function(){FB.init({appId:'1171673062996168',cookie:true,xfbml:true,version:'v3.2'});FB.AppEvents.logPageView();};(function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(d.getElementById(id)){return;}
js=d.createElement(s);js.id=id;js.src="https://connect.facebook.net/en_US/sdk.js";fjs.parentNode.insertBefore(js,fjs);}(document,'script','facebook-jssdk'));</script><body class=subpage><header id=header><div class=inner><a href=https://sfdevs.com/ class=logo>SFDevs</a><nav id=nav role=menu><a href=/about/><span>About</span></a>
<a href=/posts/><span>Community Posts</span></a>
<a href=/jobs/><span>Jobs</span></a></nav><a href=#navPanel class=navPanelToggle><span class="fa fa-bars"></span></a></div></header><section class=wrapper><div class=inner><header class=align-center><h1>Chef Server and the risks of depending on the open source community</h1></header><p>As a DevOps engineer I’ve played around with a number of different automation tools. Some professionally, some for a blog post, and some just because I was curious about them. When most companies are evaluating automation tools they look at some common attributes</p><ol><li>How much will it cost?1. Does it support the platforms we’re on?1. Is it a good fit for my teams skills?1. How long will it take to setup and see some value add?
And then there run down the list of common tools like Docker, Ansible, Chef, Puppet, Powershell DSC, and on until they find one that fits their needs will enough. But I’d argue there’s another aspect to most of these tools that’s harder to quantify, but more impactful to the long term success of a project or tool: how excited is the open source community about the tool.</li></ol><p>Most of these tools have at least some level of dependency on open source development, whether it’s the Moby Linux vm behind running Linux containers on Windows machines, or the chef cookbooks in your Berksfile, you’re probably using something that’s <a href=https://en.wikipedia.org/wiki/Open-source_software>open source</a>. The effect that has on your project success can be subtle.</p><p>I’ve had two projects at work I’d like to walk you through: migrating a Django app into Docker, and adding AWS’s boto3 to a server using chef.</p><p>When I started on the Dockerfile for the Django app I googled “Django app in docker” and immediately found several <a href=https://docs.docker.com/compose/django/>good examples</a> with notes, explanations, and a simple demo app. I could pick my Django and <a href=https://hub.docker.com/_/python/>python versions</a> using image tags, and I had my app starting in a container in about an hour (after that I spent a day hunting down undocumented environment variables, but that’s on us, not docker).</p><p>Overall it was a smooth process, there was rich documentation, and every question about tooling had already been answered on forums.</p><p>Compare that to trying to add a python package to a server using chef. I started off fighting with <a href=https://docs.chef.io/kitchen.html>chef test kitchen</a>. It took my an hour or so to figure out all of the variables I needed to create a server with the ec2 kitchen driver (env vars, values swapped out in my kitchen.yml file, drivers I needed to download, etc.)</p><p>Once I had an instance created in AWS I had to find an example of installing a python package. After 20 or so minutes of googling I landed on <a href=https://github.com/poise/poise-python>Poise python</a>, which mostly works, but hasn’t been updated in close to a year.</p><p>The package I needed was psycopg2, and I got it added to my cookbook pretty easily, but then I tried to rerun kitchen converge, and I got an error from pretty deep inside of poise python. I’ve always believed part of the unwritten contract you agree to with open source is digging into bugs when you find them, so I dove in and eventually found the problem in here doc that creates a python script to install pip modules.</p><p>Looking at the heredoc gave me a few ideas for tweaking my chef recipe to use poise python differently and avoid the error, and after experimenting for a while I found a combination of version pinning that worked and I could converge my node.</p><p>Not long after that I a commit and PR ready to add the python module to the new node and I was done.</p><p>So what’s the difference here? The work I was doing was pretty similar in both situations, I needed to update packages for a python application, but the docker experience was smooth, there were lots of examples, and it only took a few hours total. The chef experience was painful, I spent time digging through source code, debugging my own problems, and had trouble finding examples.</p><p>To be clear I’m not promoting Docker over Chef. They’re different tools that solve similar problems. I’m trying to point out that community support has moved away from Chef and the open source Chef cookbooks over the last 3–5 years. That transition makes the tool much harder to use because there are fewer people to contribute and help solve problems.</p><p>And the scary thing is that the exact same thing could happen to Docker, leaving all of the companies containerizing their applications high and dry with less free community support than they have now. The open source world is enamored with Docker <strong>today</strong>, but they may not be tomorrow. So before you commit to an open source tool for the cost or other reasons above, I’d encourage you to ask these questions too</p><ol><li>Am I willing to contribute back to this open source project to solve my own problems?1. Is the open source community moving towards, or away from this project?1. How bad is it for my org if we start to find ourselves with less open source support for this?1. Am I willing to pay for enterprise support, or hire an open source community member if it comes to it?</li></ol></div></section><footer id=footer><div class=inner><h3>Get in touch</h3><iframe src="https://services.cognitoforms.com/f/kLQF89okA06rKO0JYMWNOg?id=1" style=position:relative;width:1px;min-width:100%;*width:100% frameborder=0 scrolling=yes seamless height=465 width=100%></iframe>
<script src=https://services.cognitoforms.com/scripts/embed.js></script><div class="row footer__copy-social"><div class="copyright 6u 12u$(small)">&copy; 2020 Sioux Falls Developer's Group.</div><div class="6u 12u$(small) social"><div class=footer__social><span class=follow__social__copy>Follow SFDevs</span>
<a href=https://www.facebook.com/sfdevs title="Follow us on Facebook" class=like-us target=_blank rel=noopener><i class="fab fa-facebook fa-2x"></i></a><a href=https://twitter.com/_sfdevs title="Follow us on Twitter" class=like-us target=_blank rel=noopener><i class="fab fa-twitter fa-2x"></i></a></div></div></div></div></footer><script src=https://code.jquery.com/jquery-3.3.1.slim.min.js integrity="sha256-3edrmyuQ0w65f8gfBsqowzjJe2iM6n0nKciPUp8y+7E=" crossorigin=anonymous></script><script src=/js/skel.min.js></script><script src=/js/main.min.js></script></body></html>